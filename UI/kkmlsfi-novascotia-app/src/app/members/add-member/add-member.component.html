<div class="backdrop" (click)="onCancel()"></div>
<dialog class="dialog" open>
    <h3>{{mode}} Member</h3>

    <form (submit)="onFormSubmit()">
        <div class="mt-2">
            <div class="mt-3">
                <label class="form-label" for="firstName">First name</label>
                <input type="text" id="firstName" class="form-control" name="firstName" [(ngModel)]="model.firstName">
            </div>

            <div class="mt-3">
                <label class="form-label" for="middleName">Middle name</label>
                <input type="text" id="middleName" class="form-control" name="middleName" [(ngModel)]="model.middleName">
            </div>

            <div class="mt-3">
                <label class="form-label" for="lastName">Last name</label>
                <input type="text" id="lastName" class="form-control" name="lastName" [(ngModel)]="model.lastName">
            </div>

            <div class="mt-3">
                <label class="form-label" for="dateOfBirth">Date of birth</label>
                <input type="date" id="dateOfBirth" class="form-control" name="dateOfBirth" [(ngModel)]="model.dateOfBirth">
            </div>

            <div class="mt-3">
                <label class="form-label" for="city">City</label>
                <input type="text" id="city" class="form-control" name="city" [(ngModel)]="model.city">
            </div>

            @if (!isNew()) {
                <div class="mt-3">
                    <button type="button" class="btn btn-outline-success" (click)="openImageSelector()">Upload Display Picture</button>
                </div>
                
                @if (isImageSelectorVisible) {
                    <div class="images-container-modal">
                        <button type="button" class="btn btn-danger" style="position: fixed; top: 10px; right: 10px;" (click)="closeImageSelector()">X</button>
                        <app-image-selector [member]="this.model"></app-image-selector>
                    </div>
                }
            }

            <div class="mt-3 d-flex justify-content-end gap-1">
                <button type="submit" class="btn btn-primary">Save</button>
                <button type="button" class="btn btn-outline-primary" (click)="onCancel()">Cancel</button>
            </div>
        </div>
    </form>

    
</dialog>
